<br />

<div *ngIf="success" class="alert alert-success" role="alert">
    Book saved!
</div>

<div *ngIf="error" class="alert alert-danger" role="alert">
    Error on save!
</div>

<div class="card">
    <div class="card-body">
        <form [formGroup]="angularForm" novalidate>

            <div class="form-group">
                <label for="book-title">Title</label>
                <input id="book-title" type="text" class="form-control" placeholder="Enter title" formControlName="title"/>
            </div>
            <div *ngIf="angularForm.controls['title'].invalid &&
                    (angularForm.controls['title'].dirty || angularForm.controls['title'].touched)"
                class="alert alert-danger">
                <div *ngIf="angularForm.controls['title'].errors.required">
                    Title is required.
                </div>
            </div>

            <div class="form-group">
                <label for="book-author">Author</label>
                <input id="book-author" type="text" class="form-control" placeholder="Enter author" formControlName="author" />
            </div>
            <div *ngIf="angularForm.controls['author'].invalid &&
                    (angularForm.controls['author'].dirty || angularForm.controls['author'].touched)"
                class="alert alert-danger">
                <div *ngIf="angularForm.controls['author'].errors.required">
                    Author is required.
                </div>
            </div>

            <div class="form-group">
                <label for="book-rating">Example select</label>
                <select id="book-rating" class="form-control" formControlName="rating" >
                  <option>5</option>
                  <option>4</option>
                  <option>3</option>
                  <option>2</option>
                  <option>1</option>
                </select>
            </div>
            <div *ngIf="angularForm.controls['rating'].invalid &&
                    (angularForm.controls['rating'].dirty || angularForm.controls['rating'].touched)"
                class="alert alert-danger">
                <div *ngIf="angularForm.controls['rating'].errors.required">
                    Rating is required.
                </div>
            </div>

            <div class="form-check">
                <input id="book-done" class="form-check-input" type="checkbox" formControlName="done">
                <label class="form-check-label" for="book-done">
                  I've already read
                </label>
            </div>

            <br />
            <div class="form-group">
                <button (click) = "save()" type="submit" class="btn btn-primary"
                  [disabled]="angularForm.pristine || angularForm.invalid || btnSaveLbl === 'Loading...' || btnSaveLbl === 'Saved'" >
                  <span *ngIf="btnSaveLbl === 'Loading...'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  {{ btnSaveLbl }}
                </button>
            </div>

        </form>
    </div>
</div>